<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Clone</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
        }
        #gameContainer {
            width: 100vw;
            height: 100vh;
            background: skyblue;
        }
        .block {
            position: absolute;
            width: 50px;
            height: 50px;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .face {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            image-rendering: pixelated;
        }
        .front { transform: translateZ(25px); }
        .back { transform: translateZ(-25px) rotateY(180deg); }
        .left { transform: translateX(-25px) rotateY(-90deg); }
        .right { transform: translateX(25px) rotateY(90deg); }
        .top { transform: translateY(-25px) rotateX(90deg); }
        .bottom { transform: translateY(25px) rotateX(-90deg); }
        
        .grass .top { background: #7ec850; }
        .grass .side { background: #8b6244; }
        
        .dirt .side, .dirt .top { background: #8b6244; }
        
        .stone .side, .stone .top { background: #999999; }
        
        #inventory {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
        }
        .inventory-item {
            width: 50px;
            height: 50px;
            border: 2px solid #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .inventory-item.selected {
            border-color: #ff0;
            background: rgba(255, 255, 0, 0.2);
        }
        #instructions {
            position: fixed;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="gameContainer"></div>
    <div id="inventory">
        <div class="inventory-item selected" data-block="grass">Grass</div>
        <div class="inventory-item" data-block="dirt">Dirt</div>
        <div class="inventory-item" data-block="stone">Stone</div>
    </div>
    <div id="instructions">
        <p>Left Click: Place Block</p>
        <p>Right Click: Remove Block</p>
        <p>WASD: Move Camera</p>
        <p>Mouse: Look Around</p>
    </div>
    <script>
        class MinecraftClone {
            constructor() {
                this.container = document.getElementById('gameContainer');
                this.blocks = new Set();
                this.selectedBlock = 'grass';
                this.camera = { x: 0, y: 0, z: 0, rotX: 0, rotY: 0 };
                this.mouseDown = false;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.createInitialWorld();
                this.update();
            }

            setupEventListeners() {
                document.addEventListener('mousedown', (e) => {
                    this.mouseDown = true;
                    if (e.button === 0) this.placeBlock(e);
                    if (e.button === 2) this.removeBlock(e);
                });
                
                document.addEventListener('mouseup', () => this.mouseDown = false);
                document.addEventListener('mousemove', (e) => this.handleMouseMove(e));
                document.addEventListener('contextmenu', (e) => e.preventDefault());
                
                document.addEventListener('keydown', (e) => this.handleKeyPress(e));
                
                document.querySelectorAll('.inventory-item').forEach(item => {
                    item.addEventListener('click', () => {
                        document.querySelector('.selected').classList.remove('selected');
                        item.classList.add('selected');
                        this.selectedBlock = item.dataset.block;
                    });
                });
            }

            createBlock(x, y, z, type) {
                const block = document.createElement('div');
                block.className = `block ${type}`;
                block.dataset.x = x;
                block.dataset.y = y;
                block.dataset.z = z;
                
                ['front', 'back', 'left', 'right', 'top', 'bottom'].forEach(face => {
                    const faceDiv = document.createElement('div');
                    faceDiv.className = `face ${face} ${face === 'top' ? 'top' : 'side'}`;
                    block.appendChild(faceDiv);
                });

                this.container.appendChild(block);
                this.blocks.add(block);
                this.updateBlockPosition(block);
            }

            createInitialWorld() {
                // Create ground
                for (let x = -5; x <= 5; x++) {
                    for (let z = -5; z <= 5; z++) {
                        this.createBlock(x, 0, z, 'grass');
                    }
                }
            }

            updateBlockPosition(block) {
                const x = parseInt(block.dataset.x);
                const y = parseInt(block.dataset.y);
                const z = parseInt(block.dataset.z);
                
                const screenX = (x * 50) - (this.camera.x * 50);
                const screenY = (y * 50) - (this.camera.y * 50);
                const screenZ = (z * 50) - (this.camera.z * 50);
                
                block.style.transform = `
                    translate3d(${window.innerWidth/2 + screenX}px, 
                              ${window.innerHeight/2 - screenY}px, 
                              ${screenZ}px)
                    rotateX(${this.camera.rotX}deg)
                    rotateY(${this.camera.rotY}deg)
                `;
            }

            update() {
                this.blocks.forEach(block => this.updateBlockPosition(block));
                requestAnimationFrame(() => this.update());
            }

            handleMouseMove(e) {
                if (this.mouseDown) {
                    this.camera.rotY += e.movementX * 0.5;
                    this.camera.rotX = Math.max(-90, Math.min(90, this.camera.rotX - e.movementY * 0.5));
                }
            }

            handleKeyPress(e) {
                const speed = 0.1;
                const angle = this.camera.rotY * Math.PI / 180;
                
                switch(e.key.toLowerCase()) {
                    case 'w':
                        this.camera.x += Math.sin(angle) * speed;
                        this.camera.z += Math.cos(angle) * speed;
                        break;
                    case 's':
                        this.camera.x -= Math.sin(angle) * speed;
                        this.camera.z -= Math.cos(angle) * speed;
                        break;
                    case 'a':
                        this.camera.x -= Math.cos(angle) * speed;
                        this.camera.z += Math.sin(angle) * speed;
                        break;
                    case 'd':
                        this.camera.x += Math.cos(angle) * speed;
                        this.camera.z -= Math.sin(angle) * speed;
                        break;
                    case ' ':
                        this.camera.y += speed;
                        break;
                    case 'shift':
                        this.camera.y -= speed;
                        break;
                }
            }

            placeBlock(e) {
                const x = Math.floor((e.clientX - window.innerWidth/2) / 50 + this.camera.x);
                const z = Math.floor(this.camera.z);
                const y = Math.floor(this.camera.y);
                
                if (!Array.from(this.blocks).some(block => 
                    block.dataset.x == x && 
                    block.dataset.y == y && 
                    block.dataset.z == z
                )) {
                    this.createBlock(x, y, z, this.selectedBlock);
                }
            }

            removeBlock(e) {
                const clicked = e.target.closest('.block');
                if (clicked) {
                    this.blocks.delete(clicked);
                    clicked.remove();
                }
            }
        }

        new MinecraftClone();
    </script>
</body>
</html>